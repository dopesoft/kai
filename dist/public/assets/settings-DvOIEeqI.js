import{j as e,f as Ce,I as Se,F as Ie}from"./radix-D6tAntsm.js";import{r as l,u as sa}from"./vendor-B5oVexe1.js";import{c as re,a as la,b as ia,S as oa,T as da,d as na,e as J,f as Q,B as m,I as k,C as je,g as Ne}from"./index-TF11M3hR.js";import{A as ca,H as ga,S as ma,T as ha,D as xa,a as ya,b as ua,c as we}from"./AuthSetupBanner-CPWk6td9.js";import{S as M,a as P,b as L,c as D,d as u,i as v}from"./integrations-61LYMxvD.js";import{B as ba}from"./badge-BgMtBYxe.js";import{D as Y,a as X,b as Z,c as ee}from"./dialog-BRGN119b.js";import{u as pa,b as ka,c as va}from"./query-4uz7M6Xs.js";import{m as fa,B as ja,n as Na,o as wa,p as Ca,q as Sa}from"./icons-8ZevHjIu.js";import"./markdown-BBjlYdCw.js";import"./charts-BZMYq3Wc.js";import"./utils-CElquc7p.js";import"./motion-C1uzXyO4.js";const Ae=l.forwardRef(({className:p,...d},t)=>e.jsx(Ce,{ref:t,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",p),...d}));Ae.displayName=Ce.displayName;const Ee=l.forwardRef(({className:p,...d},t)=>e.jsx(Se,{ref:t,className:re("aspect-square h-full w-full",p),...d}));Ee.displayName=Se.displayName;const Te=l.forwardRef(({className:p,...d},t)=>e.jsx(Ie,{ref:t,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",p),...d}));Te.displayName=Ie.displayName;const ae=768;function Ia(){const[p,d]=l.useState(void 0);return l.useEffect(()=>{const t=window.matchMedia(`(max-width: ${ae-1}px)`),h=()=>{d(window.innerWidth<ae)};return t.addEventListener("change",h),d(window.innerWidth<ae),()=>t.removeEventListener("change",h)},[]),!!p}function Ja(){const[,p]=sa(),{toast:d}=la();Ia();const{user:t,profile:h,signOut:Aa,updateProfile:_e,refreshProfile:Oe,loading:Ea,authEnabled:R,session:Ta}=ia();pa();const[Me,Pe]=l.useState("profile"),[te,Le]=l.useState(!1),[se,le]=l.useState(null),I=(()=>{const a=localStorage.getItem("anon_user_id");return(t==null?void 0:t.id)||a||null})(),{data:De=[],refetch:Re}=ka({queryKey:["threads",I],queryFn:async()=>{if(!I)return[];const a=await fetch(`/api/chat/threads?user_id=${I}`);if(!a.ok)throw new Error("Failed to fetch threads");return a.json()},enabled:!!I}),Fe=va({mutationFn:async a=>{const r=await fetch(`/api/chat/threads/${a}`,{method:"DELETE"});if(!r.ok)throw new Error("Failed to delete thread");return r.json()},onSuccess:()=>{Re()}}),[j,ie]=l.useState(""),[N,oe]=l.useState(""),[de,ne]=l.useState(""),[F,ce]=l.useState(""),[A,ge]=l.useState(""),[me,he]=l.useState(!1),[Oa,G]=l.useState(""),[Ma,U]=l.useState("o4-mini"),[Ge,K]=l.useState(!1),[w,Ue]=l.useState("CALENDAR"),[Ke,E]=l.useState(!1),[c,xe]=l.useState(null),[Be,T]=l.useState(!1),[b,ye]=l.useState(null),[i,x]=l.useState({apiKey:"",email:"",model:"",calendarUrl:""}),[C,$e]=l.useState({firstName:"",lastName:"",username:"",website:"",biography:""}),[_,B]=l.useState([]),[$,V]=l.useState(!1),[Pa,ue]=l.useState(!0);l.useEffect(()=>{var a;if(h){const n=(h.full_name||"").split(" "),s=n[0]||"",g=n.slice(1).join(" ")||"";let o="";h.kai_persona&&(typeof h.kai_persona=="string"?o=h.kai_persona:h.kai_persona.description&&(o=h.kai_persona.description));const f=h.profile_image_url||"",S=((a=t==null?void 0:t.email)==null?void 0:a.split("@")[0])||"";ie(s),oe(g),ge(o),ce(f),ne(S),$e({firstName:s,lastName:g,username:S,website:f,biography:o})}},[h,t]),l.useEffect(()=>{(async()=>{if(t&&R){ue(!0);try{await v.migrateFromLocalStorage(t.id);const n=(await v.getIntegrations(t.id)).map(s=>{var g;return{id:s.id||s.provider,type:s.type,name:s.provider==="openai"?"OpenAI":s.provider==="claude"?"Anthropic Claude":s.provider==="gemini"?"Google Gemini":s.provider,provider:s.provider,account:((g=s.config)==null?void 0:g.model)||"Default",status:s.api_key?"CONNECTED":"ERROR",icon:s.provider==="openai"?"ðŸ¤–":s.provider==="claude"?"ðŸ§ ":s.provider==="gemini"?"ðŸ’Ž":"ðŸ”—",hasError:!s.api_key&&s.api_key_error}});B(n)}catch(r){console.error("Failed to load integrations:",r),d({title:"Error",description:"Failed to load integrations",variant:"destructive"})}finally{ue(!1)}}})()},[t,R]);const Ve=async()=>{if(t)try{he(!0);const a=`${j} ${N}`.trim();await _e({full_name:a,phone:(h==null?void 0:h.phone)||"",profile_image_url:F,kai_persona:{description:A}}),d({title:"Profile updated",description:"Your profile has been updated successfully."}),await Oe()}catch(a){d({title:"Error",description:a.message||"Failed to update profile.",variant:"destructive"})}finally{he(!1)}};l.useEffect(()=>{const a=localStorage.getItem("chatgpt_api_key"),r=localStorage.getItem("chatgpt_model");a&&G(a),r&&U(r)},[]);const ze=async(a,r)=>{try{return(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({model:r,messages:[{role:"user",content:"Test connection"}],max_completion_tokens:10})})).ok}catch{return!1}},We=async(a,r)=>{try{return(await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":a,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:r,max_tokens:10,messages:[{role:"user",content:"Test connection"}]})})).ok}catch{return!1}},qe=async(a,r)=>{try{return(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${r}:generateContent?key=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Test connection"}]}]})})).ok}catch{return!1}},be=async(a,r,n,s,g)=>{if(!t)return d({title:"Error",description:"You must be logged in to save integrations",variant:"destructive"}),!1;V(!0);let o=!1;if(r==="openai"?o=await ze(s,g||"o4-mini"):r==="claude"?o=await We(s,g||"claude-3-5-sonnet-20241022"):r==="gemini"&&(o=await qe(s,g||"gemini-1.5-pro")),o)try{const S=(await v.getIntegrations(t.id)).find(y=>y.provider===r);S?await v.updateIntegration(S.id,t.id,{api_key:s,config:{model:g},is_active:!0}):await v.createIntegration({user_id:t.id,type:a,provider:r,api_key:s,config:{model:g},is_active:!0});const ta=(await v.getIntegrations(t.id)).map(y=>{var fe;return{id:y.id||y.provider,type:y.type,name:y.provider==="openai"?"OpenAI":y.provider==="claude"?"Anthropic Claude":y.provider==="gemini"?"Google Gemini":y.provider,provider:y.provider,account:((fe=y.config)==null?void 0:fe.model)||"Default",status:"CONNECTED",icon:y.provider==="openai"?"ðŸ¤–":y.provider==="claude"?"ðŸ§ ":y.provider==="gemini"?"ðŸ’Ž":"ðŸ”—"}});B(ta),r==="openai"?(localStorage.setItem("chatgpt_api_key",s),localStorage.setItem("chatgpt_model",g||"o4-mini"),G(s),U(g||"o4-mini")):r==="claude"?(localStorage.setItem("claude_api_key",s),localStorage.setItem("claude_model",g||"claude-3-5-sonnet-20241022")):r==="gemini"&&(localStorage.setItem("gemini_api_key",s),localStorage.setItem("gemini_model",g||"gemini-1.5-pro")),d({title:"Integration connected",description:`${n} has been successfully connected and verified.`})}catch(f){return console.error("Failed to save integration:",f),d({title:"Error",description:"Failed to save integration to database",variant:"destructive"}),V(!1),!1}else d({title:"Connection failed",description:`Unable to connect to ${n}. Please check your API key and try again.`,variant:"destructive"});return V(!1),o},He=async a=>{if(t)try{const r=_.find(s=>s.id===a);if(!r)return;if(await v.deleteIntegration(a,t.id)){const g=(await v.getIntegrations(t.id)).map(o=>{var f;return{id:o.id||o.provider,type:o.type,name:o.provider==="openai"?"OpenAI":o.provider==="claude"?"Anthropic Claude":o.provider==="gemini"?"Google Gemini":o.provider,provider:o.provider,account:((f=o.config)==null?void 0:f.model)||"Default",status:"CONNECTED",icon:o.provider==="openai"?"ðŸ¤–":o.provider==="claude"?"ðŸ§ ":o.provider==="gemini"?"ðŸ’Ž":"ðŸ”—"}});B(g),r.provider==="openai"?(localStorage.removeItem("chatgpt_api_key"),localStorage.removeItem("chatgpt_model"),G(""),U("o4-mini")):r.provider==="claude"?(localStorage.removeItem("claude_api_key"),localStorage.removeItem("claude_model")):r.provider==="gemini"&&(localStorage.removeItem("gemini_api_key"),localStorage.removeItem("gemini_model")),d({title:"Integration removed",description:"The integration has been disconnected and removed."})}else throw new Error("Failed to delete integration")}catch(r){console.error("Failed to remove integration:",r),d({title:"Error",description:"Failed to remove integration",variant:"destructive"})}},pe=A.length,z=160,O=z-pe,Je=()=>j!==C.firstName||N!==C.lastName||de!==C.username||F!==C.website||A!==C.biography,Qe=()=>({CALENDAR:_.filter(r=>r.type==="CALENDAR"),MAIL:_.filter(r=>r.type==="MAIL"),AI:_.filter(r=>r.type==="AI")}),Ye=a=>{Ue(a),K(!0)},W=a=>{ye(a),K(!1),T(!0),x({apiKey:"",email:"",model:"",calendarUrl:""})},Xe=async a=>{var r;if(xe(a),t&&a.provider){const n=await v.getIntegrationByProvider(t.id,a.provider);n&&x({apiKey:n.api_key||"",email:a.account||"",model:((r=n.config)==null?void 0:r.model)||"",calendarUrl:""})}E(!0)},Ze=async()=>{!c||!t||c.type==="AI"&&c.provider&&await be("AI",c.provider,c.name,i.apiKey,i.model)&&(E(!1),xe(null),x({apiKey:"",email:"",model:"",calendarUrl:""}))},q=a=>e.jsx(je,{className:"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:e.jsxs(Ne,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.account})]}),e.jsxs(xa,{children:[e.jsx(ya,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400",children:e.jsx(Ca,{className:"h-4 w-4"})})}),e.jsxs(ua,{align:"end",className:"bg-white dark:bg-black border-gray-200 dark:border-gray-700",children:[e.jsx(we,{className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>Xe(a),children:"Edit"}),e.jsx(we,{className:"text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>He(a.id),children:"Remove"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ba,{variant:a.status==="CONNECTED"?"default":"secondary",className:`text-xs ${a.status==="CONNECTED"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 border-green-300 dark:border-green-700":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 border-red-300 dark:border-red-700"}`,children:a.status})})]})},a.id),H=a=>e.jsx(je,{className:"bg-gray-50 dark:bg-gray-900 border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 transition-colors cursor-pointer",onClick:()=>Ye(a),children:e.jsx(Ne,{className:"p-4 flex items-center justify-center min-h-[120px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Sa,{className:"h-8 w-8 text-gray-400 dark:text-gray-500 mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Add ",a.toLowerCase()," integration"]})]})})}),ea=()=>{if(!j&&!N)return"U";const a=(j==null?void 0:j[0])||"",r=(N==null?void 0:N[0])||"";return(a+r).toUpperCase()||"U"},ke=()=>Le(a=>!a),aa=a=>{localStorage.setItem("activeThreadId",a),p("/")},ve=()=>{localStorage.removeItem("activeThreadId"),p("/")},ra=async a=>{try{await Fe.mutateAsync(a),a===se&&(localStorage.removeItem("activeThreadId"),le(null)),d({title:"Success",description:"Conversation deleted"})}catch{d({title:"Error",description:"Failed to delete conversation",variant:"destructive"})}};return l.useEffect(()=>{const a=localStorage.getItem("activeThreadId");a&&le(a)},[]),e.jsxs("div",{className:"h-screen bg-white dark:bg-black text-gray-900 dark:text-gray-100 relative overflow-hidden flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:e.jsx(oa,{})}),R===!1&&e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 p-4",children:e.jsx(ca,{})}),e.jsx(ga,{onToggleSidebar:ke,isSidebarOpen:te,onNewChat:ve}),e.jsxs("div",{className:"flex flex-1 min-h-0",children:[e.jsx(ma,{isOpen:te,onClose:ke,onThreadSelect:aa,onNewChat:ve,activeThreadId:se,onThreadDelete:ra,threads:De}),e.jsx("div",{className:"flex-1 flex justify-center items-start min-h-0",children:e.jsxs("div",{className:"max-w-[1100px] w-full bg-white dark:bg-black backdrop-blur-sm rounded-xl shadow-lg border border-gray-200 dark:border-gray-800 p-8 h-[calc(80vh+16px)] flex flex-col min-h-0 mt-[105px]",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:"Settings"}),e.jsxs(da,{value:Me,onValueChange:Pe,className:"flex-1 flex flex-col min-h-0 !m-0 !p-0",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(na,{className:"inline-flex h-10 items-center justify-start rounded-md bg-gray-100 dark:bg-gray-800 p-1 text-gray-600 dark:text-gray-400 w-fit",children:[e.jsx(J,{value:"profile",className:"w-[120px] justify-center bg-transparent hover:bg-gray-200 dark:hover:bg-gray-700 data-[state=active]:bg-white dark:data-[state=active]:bg-black text-gray-700 dark:text-gray-300 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 border-0 data-[state=active]:shadow-sm",children:"Profile"}),e.jsx(J,{value:"integrations",className:"w-[120px] justify-center bg-transparent hover:bg-gray-200 dark:hover:bg-gray-700 data-[state=active]:bg-white dark:data-[state=active]:bg-black text-gray-700 dark:text-gray-300 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 border-0 data-[state=active]:shadow-sm",children:"Integrations"}),e.jsx(J,{value:"settings",className:"w-[120px] justify-center bg-transparent hover:bg-gray-200 dark:hover:bg-gray-700 data-[state=active]:bg-white dark:data-[state=active]:bg-black text-gray-700 dark:text-gray-300 data-[state=active]:text-gray-900 dark:data-[state=active]:text-gray-100 border-0 data-[state=active]:shadow-sm",children:"Settings"})]})}),e.jsxs("div",{className:"flex-1 !m-0 !p-0",children:[e.jsx(Q,{value:"profile",className:"h-full !m-0 !p-0 !mt-0 !pt-0 !bg-transparent data-[state=active]:block data-[state=inactive]:hidden",children:e.jsxs("div",{className:"h-full overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-black shadow-sm !m-0 !p-6",children:[e.jsx("div",{className:"mb-8 flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs(Ae,{className:"w-24 h-24 border-4 border-gray-200 dark:border-gray-700 shadow-lg",children:[e.jsx(Ee,{src:"/placeholder-avatar.jpg",alt:"Profile"}),e.jsx(Te,{className:"bg-gray-100 dark:bg-gray-900 text-gray-600 dark:text-gray-400 text-2xl font-semibold",children:ea()})]}),e.jsx(m,{size:"sm",className:"absolute -bottom-2 -right-2 rounded-full w-10 h-10 bg-white dark:bg-black border border-gray-300 dark:border-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-900 p-0",children:e.jsx(fa,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),e.jsx(k,{value:j,onChange:a=>ie(a.target.value),className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 focus:border-gray-300 dark:focus:border-gray-600 transition-colors",placeholder:"Enter your first name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),e.jsx(k,{value:N,onChange:a=>oe(a.target.value),className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 focus:border-gray-300 dark:focus:border-gray-600 transition-colors",placeholder:"Enter your last name"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),e.jsx(k,{value:de,onChange:a=>ne(a.target.value),className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 focus:border-gray-300 dark:focus:border-gray-600 transition-colors",placeholder:"Enter your username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),e.jsx(k,{value:F,onChange:a=>ce(a.target.value),className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 focus:border-gray-300 dark:focus:border-gray-600 transition-colors",placeholder:"Enter your website URL"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Biography"}),e.jsx(ha,{value:A,onChange:a=>ge(a.target.value),placeholder:"Write a short biography...",className:"w-full resize-none bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-300 dark:focus:ring-gray-600 focus:border-gray-300 dark:focus:border-gray-600 transition-colors",rows:4,maxLength:z}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[pe,"/",z]}),e.jsx("span",{className:`text-xs ${O>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:O>=0?`${O} characters left`:`${Math.abs(O)} characters over limit`})]})]}),e.jsx("div",{className:"flex justify-end mt-8",children:e.jsx(m,{onClick:Ve,disabled:me||!Je(),className:"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-gray-400 disabled:hover:bg-gray-400",children:me?"Saving...":"Save Profile"})})]})}),e.jsx(Q,{value:"integrations",className:"h-full !m-0 !p-0 !mt-0 !pt-0 !bg-transparent data-[state=active]:block data-[state=inactive]:hidden",children:e.jsxs("div",{className:"h-full overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-black shadow-sm !m-0 !p-6",children:[(()=>{const a=Qe();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ja,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"AI Integrations"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.AI.map(r=>q(r)),H("AI")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Na,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Mail Integrations"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.MAIL.map(r=>q(r)),H("MAIL")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wa,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Calendar Integrations"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.CALENDAR.map(r=>q(r)),H("CALENDAR")]})]})]})})(),e.jsx(Y,{open:Ge,onOpenChange:K,children:e.jsxs(X,{className:"bg-white dark:bg-black border-gray-200 dark:border-gray-800 max-w-md",children:[e.jsx(Z,{children:e.jsxs(ee,{className:"text-gray-900 dark:text-gray-100",children:["Add ",w.charAt(0)+w.slice(1).toLowerCase()," Integration"]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[w==="CALENDAR"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connect your calendar to sync events and schedule meetings directly from the chat."}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",children:[e.jsx("span",{className:"mr-3",children:"ðŸ—“ï¸"}),"Google Calendar"]}),e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",children:[e.jsx("span",{className:"mr-3",children:"ðŸ“…"}),"Outlook Calendar"]}),e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",children:[e.jsx("span",{className:"mr-3",children:"ðŸŽ"}),"Apple Calendar"]})]})]}),w==="MAIL"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connect your email to send messages and manage communications from the chat interface."}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",children:[e.jsx("span",{className:"mr-3",children:"ðŸ“§"}),"Gmail"]}),e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",children:[e.jsx("span",{className:"mr-3",children:"ðŸ“®"}),"Outlook Mail"]}),e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",children:[e.jsx("span",{className:"mr-3",children:"ðŸ“¬"}),"Apple Mail"]})]})]}),w==="AI"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add AI models to enhance your chat experience with different capabilities and perspectives."}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",onClick:()=>W("openai"),children:[e.jsx("span",{className:"mr-3",children:"ðŸ¤–"}),"OpenAI GPT"]}),e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",onClick:()=>W("claude"),children:[e.jsx("span",{className:"mr-3",children:"ðŸ§ "}),"Anthropic Claude"]}),e.jsxs(m,{variant:"outline",className:"justify-start h-12 border-gray-300 dark:border-gray-600",onClick:()=>W("gemini"),children:[e.jsx("span",{className:"mr-3",children:"ðŸ’Ž"}),"Google Gemini"]})]})]})]})]})}),e.jsx(Y,{open:Be,onOpenChange:T,children:e.jsxs(X,{className:"bg-white dark:bg-black border-gray-200 dark:border-gray-800 max-w-md",children:[e.jsx(Z,{children:e.jsxs(ee,{className:"text-gray-900 dark:text-gray-100",children:["Setup ",b==="openai"?"OpenAI GPT":b==="claude"?"Anthropic Claude":"Google Gemini"]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Connect your AI service by providing an API key. We'll test the connection to ensure it works."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),e.jsx(k,{type:"password",value:i.apiKey,onChange:a=>x({...i,apiKey:a.target.value}),placeholder:b==="openai"?"sk-...":b==="claude"?"sk-ant-...":"AIza...",className:"w-full font-mono bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-400"})]}),b==="openai"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model"}),e.jsxs(M,{value:i.model,onValueChange:a=>x({...i,model:a}),children:[e.jsx(P,{className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100",children:e.jsx(L,{placeholder:"Select a model"})}),e.jsxs(D,{className:"bg-white dark:bg-black border-gray-300 dark:border-gray-700",children:[e.jsx(u,{value:"o3-mini",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"o3-mini"}),e.jsx(u,{value:"o4-mini",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"o4-mini (Recommended)"}),e.jsx(u,{value:"gpt-4.1",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"GPT-4.1"})]})]})]}),b==="claude"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model"}),e.jsxs(M,{value:i.model,onValueChange:a=>x({...i,model:a}),children:[e.jsx(P,{className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100",children:e.jsx(L,{placeholder:"Select a model"})}),e.jsxs(D,{className:"bg-white dark:bg-black border-gray-300 dark:border-gray-700",children:[e.jsx(u,{value:"claude-4-opus",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Claude 4 Opus"}),e.jsx(u,{value:"claude-4-sonnet",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Claude 4 Sonnet"}),e.jsx(u,{value:"claude-3-7-sonnet",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Claude 3.7 Sonnet"}),e.jsx(u,{value:"claude-3-5-sonnet-20241022",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Claude 3.5 Sonnet (Recommended)"}),e.jsx(u,{value:"claude-3-haiku-20240307",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Claude 3 Haiku"})]})]})]}),b==="gemini"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model"}),e.jsxs(M,{value:i.model,onValueChange:a=>x({...i,model:a}),children:[e.jsx(P,{className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100",children:e.jsx(L,{placeholder:"Select a model"})}),e.jsxs(D,{className:"bg-white dark:bg-black border-gray-300 dark:border-gray-700",children:[e.jsx(u,{value:"gemini-1.5-pro",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Gemini 1.5 Pro (Recommended)"}),e.jsx(u,{value:"gemini-1.5-flash",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Gemini 1.5 Flash"}),e.jsx(u,{value:"gemini-1.0-pro",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"Gemini 1.0 Pro"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(m,{variant:"outline",onClick:()=>T(!1),className:"bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900",disabled:$,children:"Cancel"}),e.jsx(m,{onClick:async()=>{i.apiKey&&i.model&&b&&await be("AI",b,b==="openai"?"OpenAI":b==="claude"?"Anthropic Claude":"Google Gemini",i.apiKey,i.model)&&(T(!1),ye(null),x({apiKey:"",email:"",model:"",calendarUrl:""}))},className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:$||!i.apiKey||!i.model,children:$?"Testing...":"Connect & Test"})]})]})]})]})}),e.jsx(Y,{open:Ke,onOpenChange:E,children:e.jsxs(X,{className:"bg-white dark:bg-black border-gray-200 dark:border-gray-800 max-w-md",children:[e.jsx(Z,{children:e.jsxs(ee,{className:"text-gray-900 dark:text-gray-100",children:["Edit ",c==null?void 0:c.name," Settings"]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[(c==null?void 0:c.type)==="AI"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"API Key"}),e.jsx(k,{type:"password",value:i.apiKey,onChange:a=>x({...i,apiKey:a.target.value}),placeholder:"sk-...",className:"w-full font-mono bg-white dark:bg-black border-gray-300 dark:border-white text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Model"}),e.jsxs(M,{value:i.model,onValueChange:a=>x({...i,model:a}),children:[e.jsx(P,{className:"w-full bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-900 dark:text-gray-100",children:e.jsx(L,{placeholder:"Select a model"})}),e.jsxs(D,{className:"bg-white dark:bg-black border-gray-300 dark:border-gray-700",children:[e.jsx(u,{value:"o3-mini",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"o3-mini"}),e.jsx(u,{value:"o4-mini",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"o4-mini (Recommended)"}),e.jsx(u,{value:"gpt-4.1",className:"text-black dark:text-white hover:bg-gray-100 dark:hover:bg-gray-900",children:"GPT-4.1"})]})]})]})]}),(c==null?void 0:c.type)==="MAIL"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Email Address"}),e.jsx(k,{type:"email",value:i.email,onChange:a=>x({...i,email:a.target.value}),placeholder:"user@example.com",className:"w-full bg-white dark:bg-black border-gray-300 dark:border-white text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"API Key"}),e.jsx(k,{type:"password",value:i.apiKey,onChange:a=>x({...i,apiKey:a.target.value}),placeholder:"Enter your email service API key",className:"w-full font-mono bg-white dark:bg-black border-gray-300 dark:border-white text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"})]})]}),(c==null?void 0:c.type)==="CALENDAR"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Account Email"}),e.jsx(k,{type:"email",value:i.email,onChange:a=>x({...i,email:a.target.value}),placeholder:"user@example.com",className:"w-full bg-white dark:bg-black border-gray-300 dark:border-white text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Calendar URL or API Key"}),e.jsx(k,{type:"password",value:i.calendarUrl,onChange:a=>x({...i,calendarUrl:a.target.value}),placeholder:"Enter calendar URL or API key",className:"w-full font-mono bg-white dark:bg-black border-gray-300 dark:border-white text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(m,{variant:"outline",onClick:()=>E(!1),className:"bg-white dark:bg-black border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900",children:"Cancel"}),e.jsx(m,{onClick:Ze,className:"bg-black dark:bg-white text-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-100",children:"Save Changes"})]})]})]})})]})}),e.jsx(Q,{value:"settings",className:"h-full !m-0 !p-0 !mt-0 !pt-0 !bg-transparent data-[state=active]:block data-[state=inactive]:hidden",children:e.jsx("div",{className:"h-full overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-black shadow-sm !m-0 !p-6",children:e.jsx("div",{className:"text-center py-16 text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"General settings coming soon..."})})})})]})]})]})})]})]})}export{Ja as default};
